<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ .Site.Title }}</title>
    {{ $style := resources.Get "css/styles.css" | minify | fingerprint }}
    <link rel="stylesheet" href="{{ $style.RelPermalink }}" integrity="{{ $style.Data.Integrity }}">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
</head>

<body>
    <div class="container">
        <header>
            <h1>MathDown</h1>
            <p>A Markdown editor with superpowers for Mac, iPad, and iPhone.</p>
        </header>
        <section id="email-signup">
            <div id="mc_embed_shell">
                <div id="mc_embed_signup">
                    <form
                        action="https://museapp.us3.list-manage.com/subscribe/post?u=e9a717392dfdc57f98b5d803e&amp;id=8b42782d0c&amp;f_id=00403ae2f0"
                        method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate"
                        target="_blank">
                        <div id="mc_embed_signup_scroll">
                            <h2>Notify me when MathDown releases!</h2>
                            <div class="indicates-required"><span class="asterisk">*</span> indicates required</div>
                            <div class="mc-field-group"><label for="mce-EMAIL">Email Address <span
                                        class="asterisk">*</span></label><input type="email" name="EMAIL"
                                    class="required email" id="mce-EMAIL" required="" value=""></div>
                            <div aria-hidden="true" style="position: absolute; left: -5000px;"><input type="text"
                                    name="b_e9a717392dfdc57f98b5d803e_8b42782d0c" tabindex="-1" value=""></div>
                            <div class="clear"><input type="submit" name="subscribe" id="mc-embedded-subscribe"
                                    class="button" value="Subscribe"></div>
                            <div id="mce-responses" class="clear">
                                <div class="response" id="mce-error-response" style="display: none;"></div>
                                <div class="response" id="mce-success-response" style="display: none;"></div>
                            </div>
                        </div>
                    </form>
                </div>
                <script type="text/javascript"
                    src="//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js"></script>
                <script type="text/javascript">(function ($) { window.fnames = new Array(); window.ftypes = new Array(); fnames[0] = 'EMAIL'; ftypes[0] = 'email'; fnames[1] = 'FNAME'; ftypes[1] = 'text'; fnames[2] = 'LNAME'; ftypes[2] = 'text'; fnames[3] = 'ADDRESS'; ftypes[3] = 'address'; fnames[4] = 'PHONE'; ftypes[4] = 'phone'; }(jQuery)); var $mcj = jQuery.noConflict(true);
                    // SMS Phone Multi-Country Functionality
                    if (!window.MC) {
                        window.MC = {};
                    }
                    window.MC.smsPhoneData = {
                        defaultCountryCode: 'US',
                        programs: [],
                        smsProgramDataCountryNames: []
                    };

                    function getCountryUnicodeFlag(countryCode) {
                        return countryCode.toUpperCase().replace(/./g, (char) => String.fromCodePoint(char.charCodeAt(0) + 127397))
                    };

                    // HTML sanitization function to prevent XSS
                    function sanitizeHtml(str) {
                        if (typeof str !== 'string') return '';
                        return str
                            .replace(/&/g, '&amp;')
                            .replace(/</g, '&lt;')
                            .replace(/>/g, '&gt;')
                            .replace(/"/g, '&quot;')
                            .replace(/'/g, '&#x27;')
                            .replace(/\//g, '&#x2F;');
                    }

                    // URL sanitization function to prevent javascript: and data: URLs
                    function sanitizeUrl(url) {
                        if (typeof url !== 'string') return '';
                        const trimmedUrl = url.trim().toLowerCase();
                        if (trimmedUrl.startsWith('javascript:') || trimmedUrl.startsWith('data:') || trimmedUrl.startsWith('vbscript:')) {
                            return '#';
                        }
                        return url;
                    }

                    const getBrowserLanguage = () => {
                        if (!window?.navigator?.language?.split('-')[1]) {
                            return window?.navigator?.language?.toUpperCase();
                        }
                        return window?.navigator?.language?.split('-')[1];
                    };

                    function getDefaultCountryProgram(defaultCountryCode, smsProgramData) {
                        if (!smsProgramData || smsProgramData.length === 0) {
                            return null;
                        }

                        const browserLanguage = getBrowserLanguage();

                        if (browserLanguage) {
                            const foundProgram = smsProgramData.find(
                                (program) => program?.countryCode === browserLanguage,
                            );
                            if (foundProgram) {
                                return foundProgram;
                            }
                        }

                        if (defaultCountryCode) {
                            const foundProgram = smsProgramData.find(
                                (program) => program?.countryCode === defaultCountryCode,
                            );
                            if (foundProgram) {
                                return foundProgram;
                            }
                        }

                        return smsProgramData[0];
                    }

                    function updateSmsLegalText(countryCode, fieldName) {
                        if (!countryCode || !fieldName) {
                            return;
                        }

                        const programs = window?.MC?.smsPhoneData?.programs;
                        if (!programs || !Array.isArray(programs)) {
                            return;
                        }

                        const program = programs.find(program => program?.countryCode === countryCode);
                        if (!program || !program.requiredTemplate) {
                            return;
                        }

                        const legalTextElement = document.querySelector('#legal-text-' + fieldName);
                        if (!legalTextElement) {
                            return;
                        }

                        // Remove HTML tags and clean up the text
                        const divRegex = new RegExp('</?[div][^>]*>', 'gi');
                        const fullAnchorRegex = new RegExp('<a.*?</a>', 'g');
                        const anchorRegex = new RegExp('<a href="(.*?)" target="(.*?)">(.*?)</a>');

                        const template = program.requiredTemplate.replace(divRegex, '');



                        legalTextElement.textContent = '';
                        const parts = template.split(/(<a href=".*?" target=".*?">.*?<\/a>)/g);
                        parts.forEach(function (part) {
                            if (!part) {
                                return;
                            }
                            const anchorMatch = part.match(/<a href="(.*?)" target="(.*?)">(.*?)<\/a>/);
                            if (anchorMatch) {
                                const linkElement = document.createElement('a');
                                linkElement.href = sanitizeUrl(anchorMatch[1]);
                                linkElement.target = sanitizeHtml(anchorMatch[2]);
                                linkElement.textContent = sanitizeHtml(anchorMatch[3]);
                                legalTextElement.appendChild(linkElement);
                            } else {
                                legalTextElement.appendChild(document.createTextNode(part));
                            }
                        });

                    }

                    function generateDropdownOptions(smsProgramData) {
                        if (!smsProgramData || smsProgramData.length === 0) {
                            return '';
                        }

                        return smsProgramData.map(program => {
                            const flag = getCountryUnicodeFlag(program.countryCode);
                            const countryName = getCountryName(program.countryCode);
                            const callingCode = program.countryCallingCode || '';
                            // Sanitize all values to prevent XSS
                            const sanitizedCountryCode = sanitizeHtml(program.countryCode || '');
                            const sanitizedCountryName = sanitizeHtml(countryName || '');
                            const sanitizedCallingCode = sanitizeHtml(callingCode || '');
                            return '<option value="' + sanitizedCountryCode + '">' + sanitizedCountryName + ' ' + sanitizedCallingCode + '</option>';
                        }).join('');
                    }

                    function getCountryName(countryCode) {
                        if (window.MC?.smsPhoneData?.smsProgramDataCountryNames && Array.isArray(window.MC.smsPhoneData.smsProgramDataCountryNames)) {
                            for (let i = 0; i < window.MC.smsPhoneData.smsProgramDataCountryNames.length; i++) {
                                if (window.MC.smsPhoneData.smsProgramDataCountryNames[i].code === countryCode) {
                                    return window.MC.smsPhoneData.smsProgramDataCountryNames[i].name;
                                }
                            }
                        }
                        return countryCode;
                    }

                    function getDefaultPlaceholder(countryCode) {
                        if (!countryCode || typeof countryCode !== 'string') {
                            return '+1 000 000 0000'; // Default US placeholder
                        }

                        var mockPlaceholders = [
                            {
                                countryCode: 'US',
                                placeholder: '+1 000 000 0000',
                                helpText: 'Include the US country code +1 before the phone number',
                            },
                            {
                                countryCode: 'GB',
                                placeholder: '+44 0000 000000',
                                helpText: 'Include the GB country code +44 before the phone number',
                            },
                            {
                                countryCode: 'CA',
                                placeholder: '+1 000 000 0000',
                                helpText: 'Include the CA country code +1 before the phone number',
                            },
                            {
                                countryCode: 'AU',
                                placeholder: '+61 000 000 000',
                                helpText: 'Include the AU country code +61 before the phone number',
                            },
                            {
                                countryCode: 'DE',
                                placeholder: '+49 000 0000000',
                                helpText: 'Fügen Sie vor der Telefonnummer die DE-Ländervorwahl +49 ein',
                            },
                            {
                                countryCode: 'FR',
                                placeholder: '+33 0 00 00 00 00',
                                helpText: 'Incluez le code pays FR +33 avant le numéro de téléphone',
                            },
                            {
                                countryCode: 'ES',
                                placeholder: '+34 000 000 000',
                                helpText: 'Incluya el código de país ES +34 antes del número de teléfono',
                            },
                            {
                                countryCode: 'NL',
                                placeholder: '+31 0 00000000',
                                helpText: 'Voeg de NL-landcode +31 toe vóór het telefoonnummer',
                            },
                            {
                                countryCode: 'BE',
                                placeholder: '+32 000 00 00 00',
                                helpText: 'Incluez le code pays BE +32 avant le numéro de téléphone',
                            },
                            {
                                countryCode: 'CH',
                                placeholder: '+41 00 000 00 00',
                                helpText: 'Fügen Sie vor der Telefonnummer die CH-Ländervorwahl +41 ein',
                            },
                            {
                                countryCode: 'AT',
                                placeholder: '+43 000 000 0000',
                                helpText: 'Fügen Sie vor der Telefonnummer die AT-Ländervorwahl +43 ein',
                            },
                            {
                                countryCode: 'IE',
                                placeholder: '+353 00 000 0000',
                                helpText: 'Include the IE country code +353 before the phone number',
                            },
                            {
                                countryCode: 'IT',
                                placeholder: '+39 000 000 0000',
                                helpText: 'Includere il prefisso internazionale IT +39 prima del numero di telefono',
                            },
                        ];

                        const selectedPlaceholder = mockPlaceholders.find(function (item) {
                            return item && item.countryCode === countryCode;
                        });

                        return selectedPlaceholder ? selectedPlaceholder.placeholder : mockPlaceholders[0].placeholder;
                    }

                    function updatePlaceholder(countryCode, fieldName) {
                        if (!countryCode || !fieldName) {
                            return;
                        }

                        const phoneInput = document.querySelector('#mce-' + fieldName);
                        if (!phoneInput) {
                            return;
                        }

                        const placeholder = getDefaultPlaceholder(countryCode);
                        if (placeholder) {
                            phoneInput.placeholder = placeholder;
                        }
                    }

                    function updateCountryCodeInstruction(countryCode, fieldName) {
                        updatePlaceholder(countryCode, fieldName);

                    }

                    function getDefaultHelpText(countryCode) {
                        var mockPlaceholders = [
                            {
                                countryCode: 'US',
                                placeholder: '+1 000 000 0000',
                                helpText: 'Include the US country code +1 before the phone number',
                            },
                            {
                                countryCode: 'GB',
                                placeholder: '+44 0000 000000',
                                helpText: 'Include the GB country code +44 before the phone number',
                            },
                            {
                                countryCode: 'CA',
                                placeholder: '+1 000 000 0000',
                                helpText: 'Include the CA country code +1 before the phone number',
                            },
                            {
                                countryCode: 'AU',
                                placeholder: '+61 000 000 000',
                                helpText: 'Include the AU country code +61 before the phone number',
                            },
                            {
                                countryCode: 'DE',
                                placeholder: '+49 000 0000000',
                                helpText: 'Fügen Sie vor der Telefonnummer die DE-Ländervorwahl +49 ein',
                            },
                            {
                                countryCode: 'FR',
                                placeholder: '+33 0 00 00 00 00',
                                helpText: 'Incluez le code pays FR +33 avant le numéro de téléphone',
                            },
                            {
                                countryCode: 'ES',
                                placeholder: '+34 000 000 000',
                                helpText: 'Incluya el código de país ES +34 antes del número de teléfono',
                            },
                            {
                                countryCode: 'NL',
                                placeholder: '+31 0 00000000',
                                helpText: 'Voeg de NL-landcode +31 toe vóór het telefoonnummer',
                            },
                            {
                                countryCode: 'BE',
                                placeholder: '+32 000 00 00 00',
                                helpText: 'Incluez le code pays BE +32 avant le numéro de téléphone',
                            },
                            {
                                countryCode: 'CH',
                                placeholder: '+41 00 000 00 00',
                                helpText: 'Fügen Sie vor der Telefonnummer die CH-Ländervorwahl +41 ein',
                            },
                            {
                                countryCode: 'AT',
                                placeholder: '+43 000 000 0000',
                                helpText: 'Fügen Sie vor der Telefonnummer die AT-Ländervorwahl +43 ein',
                            },
                            {
                                countryCode: 'IE',
                                placeholder: '+353 00 000 0000',
                                helpText: 'Include the IE country code +353 before the phone number',
                            },
                            {
                                countryCode: 'IT',
                                placeholder: '+39 000 000 0000',
                                helpText: 'Includere il prefisso internazionale IT +39 prima del numero di telefono',
                            },
                        ];

                        if (!countryCode || typeof countryCode !== 'string') {
                            return mockPlaceholders[0].helpText;
                        }

                        const selectedHelpText = mockPlaceholders.find(function (item) {
                            return item && item.countryCode === countryCode;
                        });

                        return selectedHelpText ? selectedHelpText.helpText : mockPlaceholders[0].helpText;
                    }

                    function setDefaultHelpText(countryCode) {
                        const helpTextSpan = document.querySelector('#help-text');
                        if (!helpTextSpan) {
                            return;
                        }


                    }

                    function updateHelpTextCountryCode(countryCode, fieldName) {
                        if (!countryCode || !fieldName) {
                            return;
                        }

                        setDefaultHelpText(countryCode);
                    }

                    function initializeSmsPhoneDropdown(fieldName) {
                        if (!fieldName || typeof fieldName !== 'string') {
                            return;
                        }

                        const dropdown = document.querySelector('#country-select-' + fieldName);
                        const displayFlag = document.querySelector('#flag-display-' + fieldName);

                        if (!dropdown || !displayFlag) {
                            return;
                        }

                        const smsPhoneData = window.MC?.smsPhoneData;
                        if (smsPhoneData && smsPhoneData.programs && Array.isArray(smsPhoneData.programs)) {
                            dropdown.innerHTML = generateDropdownOptions(smsPhoneData.programs);
                        }

                        const defaultProgram = getDefaultCountryProgram(smsPhoneData?.defaultCountryCode, smsPhoneData?.programs);
                        if (defaultProgram && defaultProgram.countryCode) {
                            dropdown.value = defaultProgram.countryCode;

                            const flagSpan = displayFlag?.querySelector('#flag-emoji-' + fieldName);
                            if (flagSpan) {
                                flagSpan.textContent = getCountryUnicodeFlag(defaultProgram.countryCode);
                                flagSpan.setAttribute('aria-label', sanitizeHtml(defaultProgram.countryCode) + ' flag');
                            }

                            updateSmsLegalText(defaultProgram.countryCode, fieldName);
                            updatePlaceholder(defaultProgram.countryCode, fieldName);
                            updateCountryCodeInstruction(defaultProgram.countryCode, fieldName);
                        }


                        var smsNotRequiredRemoveCountryCodeEnabled = true;
                        var smsField = Object.values({ "EMAIL": { "name": "EMAIL", "label": "Email Address", "helper_text": "", "type": "email", "required": true, "audience_field_name": "Email Address", "merge_id": 0, "help_text_enabled": false, "enabled": true, "order": "0", "field_type": "merge" }, "FNAME": { "name": "FNAME", "label": "First Name", "helper_text": "", "type": "text", "required": false, "audience_field_name": "First Name", "enabled": false, "order": null, "field_type": "merge", "merge_id": 1 }, "LNAME": { "name": "LNAME", "label": "Last Name", "helper_text": "", "type": "text", "required": false, "audience_field_name": "Last Name", "enabled": false, "order": null, "field_type": "merge", "merge_id": 2 }, "ADDRESS": { "name": "ADDRESS", "label": "Address", "helper_text": "", "type": "address", "required": false, "audience_field_name": "Address", "enabled": false, "order": null, "field_type": "merge", "merge_id": 3, "countries": { "2": "Albania", "3": "Algeria", "4": "Andorra", "5": "Angola", "6": "Argentina", "7": "Armenia", "8": "Australia", "9": "Austria", "10": "Azerbaijan", "11": "Bahamas", "12": "Bahrain", "13": "Bangladesh", "14": "Barbados", "15": "Belarus", "16": "Belgium", "17": "Belize", "18": "Benin", "19": "Bermuda", "20": "Bhutan", "21": "Bolivia", "22": "Bosnia and Herzegovina", "23": "Botswana", "24": "Brazil", "25": "Bulgaria", "26": "Burkina Faso", "27": "Burundi", "28": "Cambodia", "29": "Cameroon", "30": "Canada", "31": "Cape Verde", "32": "Cayman Islands", "33": "Central African Republic", "34": "Chad", "35": "Chile", "36": "China", "37": "Colombia", "38": "Congo", "40": "Croatia", "41": "Cyprus", "42": "Czech Republic", "43": "Denmark", "44": "Djibouti", "45": "Ecuador", "46": "Egypt", "47": "El Salvador", "48": "Equatorial Guinea", "49": "Eritrea", "50": "Estonia", "51": "Ethiopia", "52": "Fiji", "53": "Finland", "54": "France", "56": "Gabon", "57": "Gambia", "58": "Georgia", "59": "Germany", "60": "Ghana", "61": "Greece", "62": "Guam", "63": "Guinea", "64": "Guinea-Bissau", "65": "Guyana", "66": "Honduras", "67": "Hong Kong", "68": "Hungary", "69": "Iceland", "70": "India", "71": "Indonesia", "74": "Ireland", "75": "Israel", "76": "Italy", "78": "Japan", "79": "Jordan", "80": "Kazakhstan", "81": "Kenya", "82": "Kuwait", "83": "Kyrgyzstan", "84": "Lao People's Democratic Republic", "85": "Latvia", "86": "Lebanon", "87": "Lesotho", "88": "Liberia", "90": "Liechtenstein", "91": "Lithuania", "92": "Luxembourg", "93": "Macedonia", "94": "Madagascar", "95": "Malawi", "96": "Malaysia", "97": "Maldives", "98": "Mali", "99": "Malta", "100": "Mauritania", "101": "Mexico", "102": "Moldova", "103": "Monaco", "104": "Mongolia", "105": "Morocco", "106": "Mozambique", "107": "Namibia", "108": "Nepal", "109": "Netherlands", "110": "Netherlands Antilles", "111": "New Zealand", "112": "Nicaragua", "113": "Niger", "114": "Nigeria", "116": "Norway", "117": "Oman", "118": "Pakistan", "119": "Panama", "120": "Paraguay", "121": "Peru", "122": "Philippines", "123": "Poland", "124": "Portugal", "126": "Qatar", "127": "Reunion", "128": "Romania", "129": "Russia", "130": "Rwanda", "132": "Samoa (Independent)", "133": "Saudi Arabia", "134": "Senegal", "135": "Seychelles", "136": "Sierra Leone", "137": "Singapore", "138": "Slovakia", "139": "Slovenia", "140": "Somalia", "141": "South Africa", "142": "South Korea", "143": "Spain", "144": "Sri Lanka", "146": "Suriname", "147": "Swaziland", "148": "Sweden", "149": "Switzerland", "152": "Taiwan", "153": "Tanzania", "154": "Thailand", "155": "Togo", "156": "Tunisia", "157": "Turkiye", "158": "Turkmenistan", "159": "Uganda", "161": "Ukraine", "162": "United Arab Emirates", "163": "Uruguay", "164": "USA", "165": "Uzbekistan", "166": "Vatican City State (Holy See)", "167": "Venezuela", "168": "Vietnam", "169": "Virgin Islands (British)", "170": "Yemen", "173": "Zambia", "174": "Zimbabwe", "175": "Antigua And Barbuda", "176": "Anguilla", "178": "American Samoa", "179": "Aruba", "180": "Brunei Darussalam", "181": "Bouvet Island", "183": "Cook Islands", "185": "Christmas Island", "187": "Dominican Republic", "188": "Western Sahara", "189": "Falkland Islands", "191": "Faroe Islands", "192": "Grenada", "193": "French Guiana", "194": "Gibraltar", "195": "Greenland", "196": "Guadeloupe", "198": "Guatemala", "200": "Haiti", "202": "Jamaica", "203": "Kiribati", "204": "Comoros", "205": "Saint Kitts and Nevis", "206": "Saint Lucia", "207": "Marshall Islands", "208": "Macau", "210": "Martinique", "212": "Mauritius", "213": "New Caledonia", "214": "Norfolk Island", "215": "Nauru", "217": "Niue", "219": "Papua New Guinea", "221": "Pitcairn", "222": "Palau", "223": "Solomon Islands", "225": "Svalbard and Jan Mayen Islands", "227": "San Marino", "232": "Tonga", "233": "Timor-Leste", "234": "Trinidad and Tobago", "235": "Tuvalu", "237": "Saint Vincent and the Grenadines", "238": "Virgin Islands (U.S.)", "239": "Vanuatu", "241": "Mayotte", "242": "Myanmar", "255": "Sao Tome and Principe", "257": "South Georgia and the South Sandwich Islands", "260": "Tajikistan", "262": "United Kingdom", "268": "Costa Rica", "270": "Guernsey", "272": "North Korea", "274": "Afghanistan", "275": "Cote D'Ivoire", "276": "Cuba", "277": "French Polynesia", "278": "Iran", "279": "Iraq", "281": "Libya", "282": "Palestine", "285": "Syria", "286": "Aaland Islands", "287": "Turks & Caicos Islands", "288": "Jersey  (Channel Islands)", "289": "Dominica", "290": "Montenegro", "293": "Sudan", "294": "Montserrat", "298": "Curacao", "302": "Sint Maarten", "311": "South Sudan", "315": "Republic of Kosovo", "318": "Congo, Democratic Republic of the", "323": "Isle of Man", "324": "Saint Martin", "325": "Bonaire, Saint Eustatius and Saba", "326": "Serbia" }, "defaultcountry": 164 }, "PHONE": { "name": "PHONE", "label": "Phone Number", "helper_text": "", "type": "phone", "required": false, "audience_field_name": "Phone Number", "phoneformat": "", "enabled": false, "order": null, "field_type": "merge", "merge_id": 4 } }).find(function (f) { return f.name === fieldName && f.type === 'smsphone'; });
                        var isRequired = smsField ? smsField.required : false;
                        var shouldAppendCountryCode = smsNotRequiredRemoveCountryCodeEnabled ? isRequired : true;

                        var phoneInput = document.querySelector('#mce-' + fieldName);
                        if (phoneInput && defaultProgram.countryCallingCode && shouldAppendCountryCode) {
                            phoneInput.value = defaultProgram.countryCallingCode;
                        }



                        displayFlag?.addEventListener('click', function (e) {
                            dropdown.focus();
                        });


                        dropdown?.addEventListener('change', function () {
                            const selectedCountry = this.value;

                            if (!selectedCountry || typeof selectedCountry !== 'string') {
                                return;
                            }

                            const flagSpan = displayFlag?.querySelector('#flag-emoji-' + fieldName);
                            if (flagSpan) {
                                flagSpan.textContent = getCountryUnicodeFlag(selectedCountry);
                                flagSpan.setAttribute('aria-label', sanitizeHtml(selectedCountry) + ' flag');
                            }


                            const selectedProgram = window.MC?.smsPhoneData?.programs.find(function (program) {
                                return program && program.countryCode === selectedCountry;
                            });

                            var smsNotRequiredRemoveCountryCodeEnabled = true;
                            var smsField = Object.values({ "EMAIL": { "name": "EMAIL", "label": "Email Address", "helper_text": "", "type": "email", "required": true, "audience_field_name": "Email Address", "merge_id": 0, "help_text_enabled": false, "enabled": true, "order": "0", "field_type": "merge" }, "FNAME": { "name": "FNAME", "label": "First Name", "helper_text": "", "type": "text", "required": false, "audience_field_name": "First Name", "enabled": false, "order": null, "field_type": "merge", "merge_id": 1 }, "LNAME": { "name": "LNAME", "label": "Last Name", "helper_text": "", "type": "text", "required": false, "audience_field_name": "Last Name", "enabled": false, "order": null, "field_type": "merge", "merge_id": 2 }, "ADDRESS": { "name": "ADDRESS", "label": "Address", "helper_text": "", "type": "address", "required": false, "audience_field_name": "Address", "enabled": false, "order": null, "field_type": "merge", "merge_id": 3, "countries": { "2": "Albania", "3": "Algeria", "4": "Andorra", "5": "Angola", "6": "Argentina", "7": "Armenia", "8": "Australia", "9": "Austria", "10": "Azerbaijan", "11": "Bahamas", "12": "Bahrain", "13": "Bangladesh", "14": "Barbados", "15": "Belarus", "16": "Belgium", "17": "Belize", "18": "Benin", "19": "Bermuda", "20": "Bhutan", "21": "Bolivia", "22": "Bosnia and Herzegovina", "23": "Botswana", "24": "Brazil", "25": "Bulgaria", "26": "Burkina Faso", "27": "Burundi", "28": "Cambodia", "29": "Cameroon", "30": "Canada", "31": "Cape Verde", "32": "Cayman Islands", "33": "Central African Republic", "34": "Chad", "35": "Chile", "36": "China", "37": "Colombia", "38": "Congo", "40": "Croatia", "41": "Cyprus", "42": "Czech Republic", "43": "Denmark", "44": "Djibouti", "45": "Ecuador", "46": "Egypt", "47": "El Salvador", "48": "Equatorial Guinea", "49": "Eritrea", "50": "Estonia", "51": "Ethiopia", "52": "Fiji", "53": "Finland", "54": "France", "56": "Gabon", "57": "Gambia", "58": "Georgia", "59": "Germany", "60": "Ghana", "61": "Greece", "62": "Guam", "63": "Guinea", "64": "Guinea-Bissau", "65": "Guyana", "66": "Honduras", "67": "Hong Kong", "68": "Hungary", "69": "Iceland", "70": "India", "71": "Indonesia", "74": "Ireland", "75": "Israel", "76": "Italy", "78": "Japan", "79": "Jordan", "80": "Kazakhstan", "81": "Kenya", "82": "Kuwait", "83": "Kyrgyzstan", "84": "Lao People's Democratic Republic", "85": "Latvia", "86": "Lebanon", "87": "Lesotho", "88": "Liberia", "90": "Liechtenstein", "91": "Lithuania", "92": "Luxembourg", "93": "Macedonia", "94": "Madagascar", "95": "Malawi", "96": "Malaysia", "97": "Maldives", "98": "Mali", "99": "Malta", "100": "Mauritania", "101": "Mexico", "102": "Moldova", "103": "Monaco", "104": "Mongolia", "105": "Morocco", "106": "Mozambique", "107": "Namibia", "108": "Nepal", "109": "Netherlands", "110": "Netherlands Antilles", "111": "New Zealand", "112": "Nicaragua", "113": "Niger", "114": "Nigeria", "116": "Norway", "117": "Oman", "118": "Pakistan", "119": "Panama", "120": "Paraguay", "121": "Peru", "122": "Philippines", "123": "Poland", "124": "Portugal", "126": "Qatar", "127": "Reunion", "128": "Romania", "129": "Russia", "130": "Rwanda", "132": "Samoa (Independent)", "133": "Saudi Arabia", "134": "Senegal", "135": "Seychelles", "136": "Sierra Leone", "137": "Singapore", "138": "Slovakia", "139": "Slovenia", "140": "Somalia", "141": "South Africa", "142": "South Korea", "143": "Spain", "144": "Sri Lanka", "146": "Suriname", "147": "Swaziland", "148": "Sweden", "149": "Switzerland", "152": "Taiwan", "153": "Tanzania", "154": "Thailand", "155": "Togo", "156": "Tunisia", "157": "Turkiye", "158": "Turkmenistan", "159": "Uganda", "161": "Ukraine", "162": "United Arab Emirates", "163": "Uruguay", "164": "USA", "165": "Uzbekistan", "166": "Vatican City State (Holy See)", "167": "Venezuela", "168": "Vietnam", "169": "Virgin Islands (British)", "170": "Yemen", "173": "Zambia", "174": "Zimbabwe", "175": "Antigua And Barbuda", "176": "Anguilla", "178": "American Samoa", "179": "Aruba", "180": "Brunei Darussalam", "181": "Bouvet Island", "183": "Cook Islands", "185": "Christmas Island", "187": "Dominican Republic", "188": "Western Sahara", "189": "Falkland Islands", "191": "Faroe Islands", "192": "Grenada", "193": "French Guiana", "194": "Gibraltar", "195": "Greenland", "196": "Guadeloupe", "198": "Guatemala", "200": "Haiti", "202": "Jamaica", "203": "Kiribati", "204": "Comoros", "205": "Saint Kitts and Nevis", "206": "Saint Lucia", "207": "Marshall Islands", "208": "Macau", "210": "Martinique", "212": "Mauritius", "213": "New Caledonia", "214": "Norfolk Island", "215": "Nauru", "217": "Niue", "219": "Papua New Guinea", "221": "Pitcairn", "222": "Palau", "223": "Solomon Islands", "225": "Svalbard and Jan Mayen Islands", "227": "San Marino", "232": "Tonga", "233": "Timor-Leste", "234": "Trinidad and Tobago", "235": "Tuvalu", "237": "Saint Vincent and the Grenadines", "238": "Virgin Islands (U.S.)", "239": "Vanuatu", "241": "Mayotte", "242": "Myanmar", "255": "Sao Tome and Principe", "257": "South Georgia and the South Sandwich Islands", "260": "Tajikistan", "262": "United Kingdom", "268": "Costa Rica", "270": "Guernsey", "272": "North Korea", "274": "Afghanistan", "275": "Cote D'Ivoire", "276": "Cuba", "277": "French Polynesia", "278": "Iran", "279": "Iraq", "281": "Libya", "282": "Palestine", "285": "Syria", "286": "Aaland Islands", "287": "Turks & Caicos Islands", "288": "Jersey  (Channel Islands)", "289": "Dominica", "290": "Montenegro", "293": "Sudan", "294": "Montserrat", "298": "Curacao", "302": "Sint Maarten", "311": "South Sudan", "315": "Republic of Kosovo", "318": "Congo, Democratic Republic of the", "323": "Isle of Man", "324": "Saint Martin", "325": "Bonaire, Saint Eustatius and Saba", "326": "Serbia" }, "defaultcountry": 164 }, "PHONE": { "name": "PHONE", "label": "Phone Number", "helper_text": "", "type": "phone", "required": false, "audience_field_name": "Phone Number", "phoneformat": "", "enabled": false, "order": null, "field_type": "merge", "merge_id": 4 } }).find(function (f) { return f.name === fieldName && f.type === 'smsphone'; });
                            var isRequired = smsField ? smsField.required : false;
                            var shouldAppendCountryCode = smsNotRequiredRemoveCountryCodeEnabled ? isRequired : true;

                            var phoneInput = document.querySelector('#mce-' + fieldName);
                            if (phoneInput && selectedProgram.countryCallingCode && shouldAppendCountryCode) {
                                phoneInput.value = selectedProgram.countryCallingCode;
                            }


                            updateSmsLegalText(selectedCountry, fieldName);
                            updatePlaceholder(selectedCountry, fieldName);
                            updateCountryCodeInstruction(selectedCountry, fieldName);
                        });
                    }

                    document.addEventListener('DOMContentLoaded', function () {
                        const smsPhoneFields = document.querySelectorAll('[id^="country-select-"]');

                        smsPhoneFields.forEach(function (dropdown) {
                            const fieldName = dropdown?.id.replace('country-select-', '');
                            initializeSmsPhoneDropdown(fieldName);
                        });
                    });
                </script>
            </div>
        </section>

        <section id="hero-image" class="hero-section">
            <div class="device-image-container">
                <div class="device-wrapper macbook-wrapper"><!-- MacBook Pro 16-inch -->
                    <div class="screen macbook-screen">
                        <img src="/images/Computer/mac-desktop-background.webp" alt="macOS Desktop Background">
                        <div class="macbook-window screen">
                            <img src="/images/Computer/screenshot-mac-light.webp" alt="MathDown Screenshot Light"
                                class="screenshot visible">
                            <img src="/images/Computer/screenshot-mac-dark.webp" alt="MathDown Screenshot Dark"
                                class="screenshot">
                        </div>
                    </div>
                    <img src="/images/Computer/macbook.webp"
                        srcset="/images/Computer/macbook@2x.webp 2x, /images/Computer/macbook@3x.webp 3x"
                        alt="MathDown on macOS">
                </div>
            </div>
        </section>

        <main>
            <section id="introduction">
                <h2>Just the facts.</h2>
                <p>MathDown is a Markdown editor for Mac, iPad, and iPhone. In addition to CommonMark, MathDown
                    supports LaTeX and live evaluation of math expressions.</p>
            </section>

            <section id="mobile-experience" class="mobile-preview-section">
                <div class="mobile-images-container">
                    <div class="device-wrapper ipad-wrapper"><!-- iPad Pro 11-inch -->
                        <div class="screen ipad-screen">
                            <img src="/images/iPad/screenshot-ipad-light.webp" alt="MathDown iPad Screenshot Light"
                                class="screenshot visible">
                            <img src="/images/iPad/screenshot-ipad-dark.webp" alt="MathDown iPad Screenshot Dark"
                                class="screenshot">
                        </div>
                        <img src="/images/iPad/ipad.webp"
                            srcset="/images/iPad/ipad@2x.webp 2x, /images/iPad/ipad@3x.webp 3x" alt="MathDown on iPad"
                            class="ipad-image">
                    </div>
                    <div class="device-wrapper iphone-wrapper"><!-- iPhone 15 Plus -->
                        <div class="screen iphone-screen">
                            <img src="/images/iPhone/screenshot-iphone-portrait-1-light.webp"
                                alt="MathDown Screenshot 1" class="screenshot visible">
                            <img src="/images/iPhone/screenshot-iphone-portrait-2-light.webp"
                                alt="MathDown Screenshot 2" class="screenshot">
                            <img src="/images/iPhone/screenshot-iphone-portrait-2-dark.webp" alt="MathDown Screenshot 3"
                                class="screenshot">
                            <img src="/images/iPhone/screenshot-iphone-portrait-1-dark.webp" alt="MathDown Screenshot 4"
                                class="screenshot">
                        </div>
                        <img src="/images/iPhone/iphone.webp"
                            srcset="/images/iPhone/iphone@2x.webp 2x, /images/iPhone/iphone@3x.webp 3x"
                            alt="MathDown on iPhone" class="iphone-image">
                    </div>
                </div>
            </section>

            <section id="features">
                <h2>Core Capabilities</h2>
                <ul class="feature-list">
                    <li>
                        <span class="feature-title">Rich LaTeX Rendering</span>
                        High-fidelity rendering of math expressions using standard LaTeX syntax.
                    </li>
                    <li>
                        <span class="feature-title">Live Evaluation</span>
                        Variables and functions are evaluated as you type. No compilation step.
                    </li>
                    <li>
                        <span class="feature-title">REPL Mode</span>
                        Use $$$ blocks for interactive scratchpad behavior. Define functions, expand terms, and see
                        step-by-step simplifications.
                    </li>
                    <li>
                        <span class="feature-title">Syntax Highlighting</span>
                        Fast and beautiful. Deep AST integration provides accurate highlighting for CommonMark and Math.
                    </li>
                </ul>
            </section>

            <section id="comparison">
                <h2>Competition</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Feature</th>
                            <th>MathDown</th>
                            <th>Typora</th>
                            <th>MacDown</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Live Eval</td>
                            <td>Yes</td>
                            <td>No</td>
                            <td>No</td>
                        </tr>
                        <tr>
                            <td>REPL Blocks</td>
                            <td>Yes</td>
                            <td>No</td>
                            <td>No</td>
                        </tr>
                        <tr>
                            <td>LaTeX</td>
                            <td>Rich</td>
                            <td>Rich</td>
                            <td>Basic</td>
                        </tr>
                        <tr>
                            <td>Cross-Platform</td>
                            <td>macOS/iOS</td>
                            <td>Desktop</td>
                            <td>macOS</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <section id="technical">
                <h2>Technical Details</h2>
                <h3>Evaluation System</h3>
                <p>The evaluation engine uses a custom visitor pattern to traverse the math AST. It supports:</p>
                <ul>
                    <li>Expression simplification</li>
                    <li>Variable substitution</li>
                    <li>Function distribution (e.g., <code>/expand</code>)</li>
                </ul>

                <h3>Demo: REPL Behavior</h3>
                <div class="code-block">
                    $$$
                    let f(x) = (x + 1)^2
                    /expand f(x)
                    # Output: x^2 + 2x + 1

                    f(3)
                    # Output: 16
                    $$$
                </div>
                <div class="landscape-preview">
                    <div class="device-wrapper iphone-landscape-wrapper">
                        <div class="screen iphone-landscape-screen">
                            <img src="/images/iPhone/screenshot-iphone-landscape-light.webp"
                                alt="MathDown Landscape Screenshot" class="screenshot visible">
                            <img src="/images/iPhone/screenshot-iphone-landscape-dark.webp"
                                alt="MathDown Landscape Screenshot Dark" class="screenshot">
                        </div>
                        <img src="/images/iPhone/iphone-landscape.webp"
                            srcset="/images/iPhone/iphone-landscape@2x.webp 2x, /images/iPhone/iphone-landscape@3x.webp 3x"
                            alt="MathDown on iPhone Landscape">
                    </div>
                </div>
            </section>
        </main>
    </div>


    <div class="container">
        <section id="download">
            <h2>Availability</h2>
            <p>Available for <a href="#">macOS</a> and <a href="#">iOS</a>.</p>
        </section>

        <footer>
            <p>&copy; 2026 MathDown Project.</p>
            <p><a href="/privacy/">Privacy Policy</a></p>
        </footer>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const containers = document.querySelectorAll('.screen');

            containers.forEach(container => {
                const screenshots = container.querySelectorAll('.screenshot');
                if (screenshots.length < 2) return;

                let currentIndex = 0;
                setInterval(() => {
                    const nextIndex = (currentIndex + 1) % screenshots.length;
                    const currentImg = screenshots[currentIndex];
                    const nextImg = screenshots[nextIndex];

                    // Fade in the next image on top of the current one
                    nextImg.classList.add('visible', 'on-top');

                    setTimeout(() => {
                        // After transition, remove top-layer status and hide the previous image
                        currentImg.classList.remove('visible');
                        nextImg.classList.remove('on-top');
                        currentIndex = nextIndex;
                    }, 1000); // Must match CSS transition duration
                }, 5000);
            });
        });
    </script>
</body>

</html>